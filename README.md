# dynamic-discounting-contracts
Dynamic discounting system implementation (blockchain side)


| Контракт | Метод | Входные данные | Описание |
| --- | --- | --- | --- |
| DiscountingFactory | --- | --- | --- |
| --- | createP2POrder | uint8,address,string,[uint256,uint256]| Создаёт p2p заявку на контракт, семантика параметров: <сторона BUY=0, SELL=0>,<тот, к кому обращена заявка>, <описание предмета договора>, [<сумма к оплате>, <сумма скидки>]|
| --- | acceptP2POrder | uint8 | Подтвердить чужую заявку, обращенную к себе. Аргумент - id p2p-заявки |
| --- | getOrderDetails | uint8 | Получить детальную информацию по заявке. Аргумент - id p2p-заявки |
| --- | getOrderDetailsList | uint8[] | Получить детальную информацию по заявкам. Аргумент - массив идентификаторов соответствующих p2p-заявок |
| DiscountingContract | --- | --- | --- |
| --- | confirmSupply | нет | Подтвердить факт поставки поставщиком, доступно только покупаелю. Также метод проверяет, была ли совершена предоплата, дабы в случае чего закрыть контракт сразу |
| --- | closeContract | нет | Закрыть контракт, инициировав проверку баланса контракта и распределение средств. Контракт закрывается при соблюдении всех условий. Инициатором может быть любое лицо|